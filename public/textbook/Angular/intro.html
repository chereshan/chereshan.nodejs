<!--<title>Глава 1. Введение в Angular</title>-->
<h1>Глава 1. Введение в Angular</h1>

<h2>Что такое Angular?</h2>










<h2>Почему Angular?</h2>
<p>Приложения Angular строятся на базе паттерна проектирования <span data-tippy-content='«модель — представление — контроллер»'>MVC</span>, который ориентирован на создание приложений, обладающих следующими характеристиками:</p>
<ul>
    <li><i>Простота расширения</i>: если вы понимаете основы, вам будет легко разобраться даже в самом сложном приложении Angular, а это означает, что вы сможете легко расширять приложения для поддержки новой полезной функциональности.</li>
    <li><i>Удобство сопровождения</i>: приложения Angular просты в отладке, в них легко исправляются ошибки, а это означает простоту сопровождения кода в долгосрочной перспективе.</li>
    <li><i>Удобство тестирования</i>: в Angular реализована хорошая поддержка модульного и сквозного тестирования. Следовательно, вы сможете находить и устранять дефекты до того, как ваши пользователи столкнутся с ними.</li>
    <li><i>Стандартизация</i>: Angular работает на основе внутренней функциональности браузера, не создавая никаких препятствий для вашей работы. Это позволяет вам создавать веб-приложения, соответствующие стандартам, в которых задействована новейшая функциональность (например, различные API HTML5), популярные инструменты и фреймворки.</li>
</ul>

<h2>Начало работы с Angular</h2>
<p>Многие инструменты, используемые для разработки приложений Angular, зависят от Node.js.</p>
<p>Полный набор всех выпусков Node с программами установки для Windows
и Mac OS и двоичными пакетами для других платформ доступен по адресу <a href="https://nodejs.org/">nodejs.org</a>.</p>
<p>После завершения установки выполните следующую команду для проверки установки:</p>
<pre><code >node -v</code></pre>

<p>Установка Node.js включает менеджер пакетов проекта <span class="code">npm</span>. Выполните следующую команду, чтобы убедиться в том, что NPM работает:</p>
<pre><code >npm -v</code></pre>

<h3>Установка пакета <span class="code">angular-cli</span></h3>
<p>Пакет <span class="code">angular-cli</span> стал стандартным инструментом создания и управления пакетами Angular в ходе разработки. Чтобы установить <span class="code">angular-cli</span>, откройте новую командную строку и введите следующую команду:</p>
<pre><code >npm install --global @angular/cli@1.0.0</code></pre>
<p><b>Все обстоит проще, если вы работаетe в WebStorm. В таком случае во время создания нового проекта можно просто выбрать Angular в качестве типа проекта и дождаться пока базис для проекта Angular будет сгенерирован автоматически.</b></p>

<h3>Создание проекта</h3>
<p>Выберите подходящую папку и выполните следующую команду в режиме командной строки, чтобы создать новый проект с именем <i>todo</i>:</p>
<pre><code >ng new todo</code></pre>
<p>Команда <span class="code">ng</span> предоставляется пакетом <span class="code">angular-cli</span>, а подкоманда <span class="code">ng new</span> создает новый проект. Процесс установки создает папку с именем <i>todo</i>, которая содержит все файлы конфигурации, необходимые для разработки Angular, некоторые временные файлы, упрощающие начальную стадию разработки, и пакеты NPM, необходимые для разработки, запуска и развертывания приложений Angular. (Пакетов NPM довольно много; это означает, что создание проекта может занять много времени.)</p>

<h3>Создание файла пакета</h3>
<p>NPM использует файл с именем <span class="code">package.json</span> для чтения списка программных пакетов, необходимых для проекта. Файл <span class="code">package.json</span> создается <span class="code">angular-cli</span> как часть инфраструктуры проекта, но он содержит только базовые пакеты, необходимые для разработки Angular. </p>

<p>Далее нам понадобится пакет Bootstrap, не входящий в базовый набор пакетов. Для его установки введите следующую команду в консоль:
<pre><code >npm install bootstrap</code></pre></p>

<p>В итоге, файл <span class="code">package.json</span> будет иметь следующий вид:</p>
<pre><code >{
    "name": "simple-angular-project",
    "version": "0.0.0",
    "scripts": {
        "ng": "ng",
        "start": "ng serve",
        "build": "ng build",
        "watch": "ng build --watch --configuration development",
        "test": "ng test"
    },
    "private": true,
    "dependencies": {
        "@angular/animations": "^19.0.0",
        "@angular/common": "^19.0.0",
        "@angular/compiler": "^19.0.0",
        "@angular/core": "^19.0.0",
        "@angular/forms": "^19.0.0",
        "@angular/platform-browser": "^19.0.0",
        "@angular/platform-browser-dynamic": "^19.0.0",
        "@angular/router": "^19.0.0",
        "bootstrap": "^5.3.3",
        "rxjs": "~7.8.0",
        "tslib": "^2.3.0",
        "zone.js": "~0.15.0"
    },
    "devDependencies": {
        "@angular-devkit/build-angular": "^19.0.4",
        "@angular/cli": "^19.0.4",
        "@angular/compiler-cli": "^19.0.0",
        "@types/jasmine": "~5.1.0",
        "jasmine-core": "~5.4.0",
        "karma": "~6.4.0",
        "karma-chrome-launcher": "~3.2.0",
        "karma-coverage": "~2.2.0",
        "karma-jasmine": "~5.1.0",
        "karma-jasmine-html-reporter": "~2.1.0",
        "typescript": "~5.6.2"
    }
}</code></pre>

<p>В файле <span class="code">package.json</span> перечислены пакеты, необходимые для начала разработки приложений Angular, и некоторые команды для их использования. Пока нам достаточно понимать, для чего нужна каждая секция файла <span class="code">package.json</span>:</p>

<table><thead>
<tr>
    <th>Имя</th>
    <th>Описание</th>
</tr></thead>
    <tbody>
    <tr>
        <td><span class="code">scripts</span></td>
        <td>Список скриптов, запускаемых в режиме командной строки. Секция <span class="code">scripts</span> в листинге запускает команды, используемые для компиляции исходного кода, и сервер HTTP для разработки</td>
    </tr>
    <tr>
        <td><span class="code">dependencies</span></td>
        <td>Список пакетов <span class="code">npm</span>, от которых зависит работа веб-приложения. Для каждого пакета указан номер версии. В секции <span class="code">dependencies</span> в листинге перечислены базовые пакеты Angular; библиотеки, от которых зависит Angular; и дополнительная CSS-библиотека Bootstrap, которая используется для стилевого оформления контента HTML</td>
    </tr>
    <tr>
        <td><span class="code">devDependencies</span></td>
        <td>Список пакетов <span class="code">npm</span>, которые используются в разработке, но не нужны для работы приложения после его развертывания. В этой секции перечислены пакеты, компилирующие файлы TypeScript, предоставляющие функциональность сервера HTTP в процессе разработки и обеспечивающие тестирование</td>
    </tr>
    </tbody></table>

<h2>Запуск сервера</h2>

<p>Инструментарий и базовая структура находятся на своих местах; пришло время
убедиться в том, что все работает нормально. Выполните следующие команды из
папки todo:</p>
<pre><code >npm serve --port 3000 --open</code></pre>

<p>Команда запускает сервер HTTP для разработки, который был установлен
<span class="code">angular-cli</span> и настроен для работы с инструментарием разработчика Angular. Запуск занимает немного времени для подготовки проекта, а вывод выглядит примерно так:</p>

<div class="code-example-output-title"><span>Вывод:</span>
    <div class="code-example-output">
<pre>
** NG Live Development Server is running on http://localhost:3000 **
Hash: b8843310528d229c2540
Time: 11251ms
chunk {0} polyfills.bundle.js, polyfills.bundle.js.map (polyfills) 158 kB {4}
[initial] [rendered]
chunk {1} main.bundle.js, main.bundle.js.map (main) 3.69 kB {3} [initial]
    [rendered]
chunk {2} styles.bundle.js, styles.bundle.js.map (styles) 9.77 kB {4} [initial]
    [rendered]
chunk {3} vendor.bundle.js, vendor.bundle.js.map (vendor) 2.37 MB [initial]
    [rendered]
chunk {4} inline.bundle.js, inline.bundle.js.map (inline) 0 bytes [entry]
    [rendered]
    webpack: Compiled successfully.
</pre>
    </div>
</div>
<p>Через несколько секунд откроется окно браузера; это
означает, что запуск проекта прошел успешно и в нем используется временный
контент, сгенерированный <span class="code">angular-cli</span>.</p>

<h3>Редактирование файла HTML</h3>
Хотя пакет angular-cli добавил временный контент, мы сейчас удалим все лишнее и начнем с заготовки HTML, содержащей статический контент. Позже эта
заготовка будет расширена для Angular. Отредактируйте файл index.html в папке
todo/src и включите в него контент:
<pre><code >&lt;!DOCTYPE html>
&lt;html>
&lt;head>
    &lt;title>ToDo&lt;/title>
    &lt;meta charset="utf-8" />
&lt;/head>
&lt;body class="m-a-1">
&lt;h3 class="bg-primary p-a-1">Adam's To Do List&lt;/h3>
&lt;div class="m-t-1 m-b-1">
    &lt;input class="form-control" />
    &lt;button class="btn btn-primary m-t-1">Add&lt;/button>
&lt;/div>
&lt;table class="table table-striped table-bordered">
    &lt;thead>
    &lt;tr>
        &lt;th>Description&lt;/th>
        &lt;th>Done&lt;/th>
    &lt;/tr>
    &lt;/thead>
    &lt;tbody>
    &lt;tr>&lt;td>Buy Flowers&lt;/td>&lt;td>No&lt;/td>&lt;/tr>
    &lt;tr>&lt;td>Get Shoes&lt;/td>&lt;td>No&lt;/td>&lt;/tr>
    &lt;tr>&lt;td>Collect Tickets&lt;/td>&lt;td>Yes&lt;/td>&lt;/tr>
    &lt;tr>&lt;td>Call Joe&lt;/td>&lt;td>No&lt;/td>&lt;/tr>
    &lt;/tbody>
&lt;/table>
&lt;/body>
&lt;/html></code></pre>
в styles.css добавьте строку:
<pre><code >@import "../node_modules/bootstrap/dist/css/bootstrap.min.css";</code></pre>
Сервер HTTP для разработки angular-cli добавляет фрагмент JavaScript в контент HTML, передаваемый браузеру. JavaScript открывает обратное подключение
к серверу и ждет сигнала на перезагрузку страницы; сигнал отправляется при обнаружении сервером изменений в любых файлах из каталога todo. Как только вы
сохраните файл index.html, сервер обнаружит изменения и отправит сигнал. Браузер перезагружается и выводит новый контент
При внесении изменений в группу файлов может случиться так, что браузер не сможет
загрузить и выполнить приложение, особенно в последующих главах, когда приложения станут более сложными. В большинстве случаев сервер HTTP для разработки
инициирует перезагрузку в браузере, и все будет нормально, но если у него возникнут
затруднения, просто нажмите кнопку обновления в браузере или перейдите по адресу
http://localhost:3000, чтобы восстановить нормальную работу
Элементы HTML в файле index.html показывают, как будет выглядеть простое
приложение Angular, которое мы создадим в этой главе. Его ключевые элементы — заголовок с именем пользователя, поле ввода, кнопка для добавления новой
задачи в список и таблица со всеми задачами и признаками их завершения.

<h3>Добавление функциональности Angular
    в проект</h3>
Статическая разметка HTML в файле index.html заменяет простейшее приложение. Пользователь может просматривать список задач, помечать выполненные
и создавать новые задачи. В дальнейших разделах мы добавим в проект Angular
и воспользуемся некоторыми базовыми возможностями для того, чтобы вдохнуть жизнь в приложение. Для простоты предполагается, что у приложения всего один пользователь и нам не нужно беспокоиться о сохранении данных в приложении, а это означает, что изменения в списке будут потеряны при закрытии
или перезагрузке окна браузера.

<h4>Подготовка файла HTML
    <p></p>
<pre><code >&lt;/h4>
&lt;!DOCTYPE html>
&lt;html>
&lt;head>
    &lt;title>ToDo&lt;/title>
    &lt;meta charset="utf-8" />
    &lt;link href="node_modules/bootstrap/dist/css/bootstrap.min.css"
          rel="stylesheet" />
&lt;/head>
&lt;body class="m-a-1">
&lt;todo-app>Angular placeholder&lt;/todo-app>
&lt;/body>
&lt;/html> </code></pre>
    В листинге 2.3 содержимое элемента body заменяется элементом todo-app. В спецификации HTML элемент todo-app отсутствует, и браузер игнорирует его при
    разборе файла HTML, но этот элемент станет отправной точкой в мире Angular —
    он заменяется контентом приложения. Если сохранить файл index.html, браузер
    перезагрузит файл и выведет временный текст
    Если вы воспроизводили примеры из первоначальной версии книги, возможно, вас интересует, почему я не добавил в файл HTML элементы script для встраивания функциональности Angular? Проект, созданный на базе angular-cli, использует инструмент Web
    Pack, который автоматически генерирует файлы JavaScript для проекта и автоматически
    встраивает их в файлы HTML, отправляемые браузеру сервером HTTP для разработки

    стр 37