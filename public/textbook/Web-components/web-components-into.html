<!--<title>Глава 1. Введение в Web-компоненты</title>-->
<h1>Глава 1. Введение в Web-компоненты</h1>
<p>Разделение нашей работы на компоненты, каждый из которых отвечает за структуру, стиль и поведение части пользовательского интерфейса, помогает нам управлять сложностью и создавать более сложные сайты. Компоненты можно повторно использовать в каком-либо проекте или совместно в разных проектах, что повышает нашу эффективность. Дизайн-системы можно выразить в виде наборов готовых к использованию компонентов, обеспечивающих согласованность, которые позволяют командам сосредоточиться на конкретных потребностях продукта.</p>
<p>Веб-компоненты – это общий термин для нового семейства функций веб-платформ, предлагающих прямую поддержку разработки на основе компонентов. Пользовательские элементы позволяют расширять словарь HTML, определяя собственные теги, которые легко работают со встроенными в браузер тегами и могут использоваться в одних и тех же местах, независимо от фреймворка. Технология Shadow DOM позволяет вам применять инкапсуляцию в нативном стиле, гарантируя, что CSS-правила компонента не будут непреднамеренно нарушать – и не будут нарушаться – форматирование страницы.</p>
<h2>Что такое веб-компоненты?</h2>
Современные популярные фреймворки сегодня в основном предлагают возможность многократного использования кода в виде компонентов, или модулей.  В целом это совместно используемые и автономные фрагменты кода (HTML/JS/CSS), которые предлагают визуальный стиль и интерактивность и, возможно, имеют API или параметры, которые можно
настраивать.</p>
<p>Конечно, я говорю о тегах HTML, или элементах DOM. Они отображаются в DOM и имеют определенный тип функциональности. Теги <span class="code">&lt;div></span>
    или <span class="code">&lt;span></span> достаточно универсальны и используются для хранения текста или смеси элементов. Элементы <span class="code">&lt;button></span> или <span class="code">&lt;input></span> более специфичны по функциональности и стилю. Когда вы помещаете кнопку в свой
HTML-код, она выглядит как стандартная кнопка, а когда вы нажимаете
на нее, она ведет себя как кнопка. Это похоже на различные стили <span class="code">&lt;input></span>, независимо от того, хотите ли вы создать календарь с возможностью выбора даты, ползунок или поле ввода текста.</p>
<h2>Пример: календарь</h2>
<p>Календарь имеет свойства, которые можно запросить, включив значение. В этом можно убедиться, зарегистрировав свойство в консоли JS:</p>
<pre><code>&lt;input type="date">
console.log( document.querySelector('input').value );</code></pre>
<div class="code-example-output-title"><span>Вывод:</span>
<div class="code-example-output">
<pre>
<input type="date">
</pre>
</div>
</div>
<p>Когда я регистрирую его, то вижу текущее значение календаря в своей
    консоли. Он также отправляет события, которые я могу прослушать, когда значение изменяется или отправляется. Я также могу вызывать методы для календаря для перехода по датам.</p>


<p>Календарь с  возможностью выбора даты является отличным примером повторно используемых компонентов или модулей с  довольно
    сложным визуальным стилем и  шаблонами взаимодействия, которые
    должны программироваться компаниями-разработчиками браузеров.
    Они работают в разных ситуациях. Также этот календарь представляет
    собой отличный пример популярной концепции веб-ком по нен тов под
    названием Shadow DOM (Теневая модель DOM).</p>

<h3>Теневая модель DOM</h3>
<p>Теневая модель DOM  – это способ изолировать ваш веб-ком по нент
    и предотвратить непреднамеренные последствия более крупного приложения. Когда вы откроете инструменты разработчика для просмотра
    DOM, то просто увидите тег <span class="code">&lt;input type="date"></span>. Однако если вы используете браузер Chrome и активируете пункт «Показывать теневую модель
    DOM агента пользователя» в  настройках инструментов разработчика,
    тот же самый тег <span class="code">&lt;input></span> приобретает иной вид</p>
<pre><code >#shadow-root (user-agent)
&lt;div pseudo="-internal-datetime-container" style="unicode-bidi: normal;">
    &lt;div pseudo="-webkit-datetime-edit" id="date-time-edit" datetimeformat="dd.MM.yyyy" style="unicode-bidi: normal;">
        &lt;div pseudo="-webkit-datetime-edit-fields-wrapper" style="unicode-bidi: normal;">
            &lt;span role="spinbutton" aria-placeholder="дд" aria-valuemin="1" aria-valuemax="31" aria-label="День" pseudo="-webkit-datetime-edit-day-field">дд&lt;/span>
            &lt;div pseudo="-webkit-datetime-edit-text" style="unicode-bidi: normal;">.&lt;/div>
            &lt;span role="spinbutton" aria-placeholder="мм" aria-valuemin="1" aria-valuemax="12" aria-label="Месяц" pseudo="-webkit-datetime-edit-month-field">мм&lt;/span>
            &lt;div pseudo="-webkit-datetime-edit-text" style="unicode-bidi: normal;">.&lt;/div>
            &lt;span role="spinbutton" aria-placeholder="гггг" aria-valuemin="1" aria-valuemax="275760" aria-label="Год" pseudo="-webkit-datetime-edit-year-field">гггг&lt;/span>
        &lt;/div>&lt;/div>&lt;div pseudo="-webkit-calendar-picker-indicator" id="picker" tabindex="0" aria-haspopup="menu" role="button" title="Показать окно выбора даты">
    &lt;/div>
&lt;/div></code></pre>

<p>Под <span class="code">#shadow-root</span> намного больше разметки! Лично первое, на что я обращаю внимание при изучении этого кода, – всплывающее окно календаря. Хотя было бы замечательно увидеть этот фрагмент в HTML и CSS,
    его там нет, потому что этот фрагмент пользовательского интерфейса
    является частью вашей собственной ОС, которую ваш браузер просто показывает посредством элемента.</p>
<p>Если присмотреться, можно заметить, что в  нашей теневой модели
    DOM размещены теги <span class="code">&lt;div></span> и  <span class="code">&lt;span></span>. Вам может прийти в  голову, что
это опасно! Почему? Что же, в таблице стилей CSS своего приложения
я вполне мог бы сделать так, чтобы во всех тегах <span class="code">&lt;div></span> был указан синий
фон с очень большим размером шрифта, а все теги <span class="code">&lt;span></span> отображались
с прозрачностью 10 %. Если бы вы не знали о существовании этой дополнительной разметки, вы могли бы случайно испортить все календари с возможностью выбора даты, за исключением одной важной вещи:
теневая DOM защищает внутреннюю работу вашего веб-компонента из-вне. Стили ваших синих/больших тегов <span class="code">&lt;div></span> не будут проникать в теневую DOM. Более того, вы не сможете написать код Java Script, чтобы
попытаться заполучить кнопку календаря clear и манипулировать ей:
                </p>
<p>Таким образом, Shadow DOM защищает область видимости корня теневого дерева (shadow root). Да, вы можете использовать его, где угодно.
    Но это имеет огромное значение в пользовательском элементе, который
    вы создали, чтобы избежать непреднамеренной поломки, когда разработчик устанавливает правило CSS, имя которого совпадает с именем,
    которое вы использовали в своем компоненте, или когда тот же разработчик запрашивает элемент по классу и что-то в вашем пользовательском элементе выбирается случайно.</p>
<p>Как вы можете себе представить, календарь с возможностью выбора
    даты является полезным элементом для дополнения нескольких других полезных элементов, которые мы применяем ежедневно. Многие
    элементы используются в семантических целях, например тег <span class="code">&lt;footer></span>,
    а другие имеют определенный API и стиль, например теги <span class="code">&lt;button></span>, <span class="code">&lt;option></span> и <span class="code">&lt;video></span>.</p>
<p></p>

        <p>Теневая DOM защищает ваш компонент от непреднамеренных последствий,
            когда CSS или JS может повлиять на стили и узлы внутри, не подлежащие изменению.
            Вместо этого у вашего компонента будет пользовательский API, с которым можно будет
            взаимодействовать, применяя методы и свойства
        </p>

<img src="https://i.ibb.co/9ykkpx1/image.png" alt="image" border="0">
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>